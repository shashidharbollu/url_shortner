<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    
   <div class="container">  
  
       <h1 class="heading">Link Shortener</h1>
       <p>(generated URL is valid only upto 48 hours.)</p>
       <a href="/auth/logout" class="btn btn-secondary">Logout</a>
      
    

  <div class="form">
    <form action="/shortUrls" method="post">
        <input type="url" name="full" placeholder="enter your link">
        <button type="submit">submit</button>
    </form>
  </div>

  <div class="links">
    <div class="link-box">
       <div class="full">
          <h2>Full Link</h2>
       </div>
       <div class="short">
        <h2>Short Link</h2>
       </div>
       <div class="click">
        <h2>Clicks</h2>
       </div>
    </div>
  </div>



<%= console.log("Short url From EJS:",shorturls) %>
  <%   shorturls.forEach(url => { %>
  

    <div class="links">
        <div class="link-box">
           <div class="full">
              <a href="<%= url.full %>"><%= url.full %></a>
           </div>
           <div class="short">
              <a class="redirect-url" target="_blank" href="/dashboard/<%= url.short %>"><%= url.short %></a>
           </div>
           
           <div  class="clicks">
              <span><%= url.clicks %></span>
           </div>

           <div class="delete">
            <a  href="/shortUrls/delete/<%= url._id %>">
                <span class="material-symbols-outlined">
                    auto_delete
                    </span>
            </a>
          </div>

          
        </div>
    </div>



  <%});  %>




</div>
     
<script>

   const redirectBtn = document.querySelector(".redirect-url")
   redirectBtn.addEventListener("click",()=>{console.log("btn clicked")})

</script>
</body>
</html>
